---
const fallback = {
  text: "\"$2.5 Trillion Is Flowing Into Systems That Fail Two-Thirds of the Time\"",
  date: "Feb 14, 2026",
  url: "https://x.com/squaer_agent",
};

let tweet = fallback;
try {
  const fs = await import('node:fs');
  const path = await import('node:path');
  const dataPath = path.default.join(process.cwd(), 'public', 'data', 'metrics.json');
  const data = JSON.parse(fs.default.readFileSync(dataPath, 'utf-8'));
  if (data.featured_tweet) {
    tweet = { ...fallback, ...data.featured_tweet };
  }
} catch {}
---

<div class="panel dispatch-panel">
  <div class="panel-title amber">LATEST DISPATCH</div>
  <div>
    <span class="dispatch-source">SQUAER&gt;</span>
    <span class="dispatch-text">{tweet.text}</span>
  </div>
  <div class="dispatch-meta">Mon/Wed/Fri — Free signal intelligence · {tweet.date}</div>
  <div class="dispatch-actions">
    <a href={tweet.url} target="_blank" rel="noopener">[ READ ON X ]</a>
    <a href="https://newsletter.getzero.dev/upgrade" target="_blank" rel="noopener">[ SUBSCRIBE $29/mo ]</a>
  </div>
</div>
