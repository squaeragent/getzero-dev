---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProofBar from '../components/ProofBar.astro';
import { system } from '../data/metrics';
---

<BaseLayout title="ZERO — Design. Deploy. Compound." current="/">
  <header class="hero container">
    <div class="hero-system">
      <span class="status-dot"></span>
      System online — autonomous production active
    </div>
    <h1>Design. Deploy.<br /><em>Compound.</em></h1>
    <p class="hero-sub">An autonomous AI production company. 4 agents, 2 machines, 0 employees — built in public, running in production. Follow the build or build your own.</p>
    <span class="hero-scroll">Scroll</span>
  </header>

  <ProofBar />
  <div class="section-divider"></div>

  <section class="section container">
    <p class="section-label reveal">The problem</p>
    <h2 class="reveal">AI agents are demos.<br />Not infrastructure.</h2>
    <div class="problem-statement reveal">
      Everyone is building agents. <strong>Nobody is running them.</strong> The gap between "cool demo" and "production system operating at 3 AM without you" is where every project dies. That gap isn't a feature request — it's an engineering discipline.
    </div>
    <div class="problem-quote reveal">
      <p>You'll fix it tomorrow. Tomorrow you'll have a new idea. The agent dies in between. That's the pattern.</p>
    </div>
    <p class="section-intro reveal" style="margin-top: clamp(32px, 5vh, 48px);">ZERO bridges that gap. Not with abstractions — with specifications, handoff protocols, quality gates, and self-healing infrastructure that treats agent coordination as a systems problem, not a prompt engineering problem.</p>
  </section>

  <div class="section-divider"></div>

  <section class="section container">
    <p class="section-label reveal">Capabilities</p>
    <h2 class="reveal">Four disciplines.<br />One system.</h2>
    <div class="features-grid stagger">
      <div class="feature reveal">
        <div class="feature-num">01</div>
        <div class="feature-title">Design</div>
        <p class="feature-desc">Define agent roles, communication protocols, and coordination patterns. Not prompt engineering — systems architecture. Every agent has a spec. Every interaction has a contract.</p>
      </div>
      <div class="feature reveal">
        <div class="feature-num">02</div>
        <div class="feature-title">Deploy</div>
        <p class="feature-desc">Automated scheduling, health monitoring, self-healing. Your agents run on your hardware, on your terms, 24/7. When something breaks at 3 AM, the system fixes itself before you wake up.</p>
      </div>
      <div class="feature reveal">
        <div class="feature-num">03</div>
        <div class="feature-title">Coordinate</div>
        <p class="feature-desc">Parallel execution, dependency chaining, quality feedback loops. Agents that work together through structured handoffs — not shared prompts, not chat threads, not vibes.</p>
      </div>
      <div class="feature reveal">
        <div class="feature-num">04</div>
        <div class="feature-title">Compound</div>
        <p class="feature-desc">Every cycle makes the system smarter. Engagement data feeds content. Velocity data optimizes throughput. Quality scores compound into excellence. Week 12 beats Week 1 without you touching anything.</p>
      </div>
    </div>
  </section>

  <div class="section-divider"></div>

  <section class="section container">
    <p class="section-label reveal">The architecture</p>
    <h2 class="reveal">Built in public.<br />Running in production.</h2>
    <p class="section-intro reveal">This isn't a whitepaper. These agents are running right now, on two Mac machines, coordinating through a shared git repository with {system.specs || 64} specifications governing every operation.</p>

    <div class="arch-grid stagger">
      <div class="arch-agent reveal">
        <div class="arch-header">
          <span class="arch-dot"></span>
          <span class="arch-name">SERAPHIM</span>
        </div>
        <div class="arch-role">Strategy · Quality</div>
        <p class="arch-desc">Coordinates operations, gates every output for quality, drives strategy. Decides what to build next and whether the work ships. Mac Studio M3 Ultra.</p>
      </div>
      <div class="arch-agent reveal">
        <div class="arch-header">
          <span class="arch-dot"></span>
          <span class="arch-name">CHRONICLE</span>
        </div>
        <div class="arch-role">Editorial · Narrative</div>
        <p class="arch-desc">Watches signal streams, frames narratives, drafts every post. The editorial intelligence that decides what's worth saying — and what isn't.</p>
      </div>
      <div class="arch-agent reveal">
        <div class="arch-header">
          <span class="arch-dot"></span>
          <span class="arch-name">AESTHETE</span>
        </div>
        <div class="arch-role">Design · Visual Identity</div>
        <p class="arch-desc">Governs the PHOSPHOR design system. Every visual — from data visualizations to product covers — passes through design intelligence review.</p>
      </div>
      <div class="arch-agent reveal">
        <div class="arch-header">
          <span class="arch-dot"></span>
          <span class="arch-name">SQUAER</span>
        </div>
        <div class="arch-role">Distribution · Autonomy</div>
        <p class="arch-desc">Posts autonomously as <a href="https://x.com/squaer_agent" target="_blank" rel="noopener">@squaer_agent</a>. Evaluates engagement, decides replies, prunes its own feed. The living proof this system works.</p>
      </div>
    </div>

    <p class="arch-summary reveal"><strong>{system.cognitive_functions || 4} agents. {system.machines || 2} machines. {system.specs || 64} specs. 0 employees.</strong> Every handoff tracked. Every output scored. Every failure self-healed.</p>
  </section>

  <div class="section-divider"></div>

  <section class="section container cta-section">
    <p class="section-label reveal">Early access</p>
    <h2 class="reveal">Get notified when<br />ZERO opens up.</h2>
    <p class="section-intro reveal">Weekly build logs, real numbers, and the unfiltered story of building an autonomous AI company. No hype — just data.</p>
    <form class="email-form reveal" id="email-form">
      <input type="email" placeholder="you@domain.com" required autocomplete="email" />
      <button type="submit">Request access</button>
    </form>
    <p class="cta-note reveal">No spam. Real updates from a real system.</p>
  </section>

  <script>
    document.getElementById('email-form')?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const form = e.target as HTMLFormElement;
      const input = form.querySelector('input') as HTMLInputElement;
      const btn = form.querySelector('button') as HTMLButtonElement;
      const email = input.value.trim();
      if (!email) return;

      btn.textContent = '...';
      btn.disabled = true;

      try {
        const res = await fetch('/api/subscribe', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email })
        });

        if (res.ok) {
          btn.textContent = "YOU'RE IN";
          btn.style.background = 'var(--accent)';
          input.value = '';
          input.placeholder = 'Welcome to ZERO';
          input.disabled = true;
        } else {
          btn.textContent = 'TRY AGAIN';
          btn.style.background = '#ff3333';
        }
      } catch {
        btn.textContent = 'TRY AGAIN';
        btn.style.background = '#ff3333';
      }

      setTimeout(() => {
        btn.textContent = 'REQUEST ACCESS';
        btn.style.background = '';
        btn.disabled = false;
        input.placeholder = 'you@domain.com';
        input.disabled = false;
      }, 4000);
    });
  </script>
</BaseLayout>
