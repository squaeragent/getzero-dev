---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PageWrapper from '../../components/ui/PageWrapper.astro';
import HeroNumeral from '../../components/ui/HeroNumeral.astro';
import StatusDot from '../../components/ui/StatusDot.astro';
import HazardDivider from '../../components/ui/HazardDivider.astro';
import DataPanel from '../../components/ui/DataPanel.astro';

let m = { followers: 420, posts: 172, day: 13 };
try {
  const path = await import('node:path');
  const fs = await import('node:fs');
  const dataPath = path.default.join(process.cwd(), 'public', 'data', 'metrics.json');
  if (fs.default.existsSync(dataPath)) {
    const j = JSON.parse(fs.default.readFileSync(dataPath, 'utf-8'));
    m = { ...m, ...j };
  }
} catch {}
---

<BaseLayout title="Agents — ZERO" description="Five cognitive functions running ZERO OS. No employees." current="/agents" ogImage="/og/agents.png">
<PageWrapper>
  <h1 class="sr-only">Agents</h1>
  <pre class="term-block al" data-d="0"><span class="phosphor">zero $</span> ps aux | grep zero-agent</pre>

  <div class="hero-row">
    <HeroNumeral value="5" label="ACTIVE PROCESSES" sub="Zero employees. They coordinate through specs, not conversations." color="ice" />
  </div>

  <HazardDivider variant="section" text="COGNITIVE FUNCTIONS" color="ice" />

<div class="agent-feed">

  <DataPanel title="SERAPHIM" status="Opus" color="dim">
    <div class="agent-status-row"><StatusDot status="nominal" label="Strategic Cortex · Mac Studio" /></div>
    <div class="agent-body">Sees the whole board. Decides what to build, what to kill, and what to ship. Runs the intelligence engine that tracks 70 entities across repos, accounts, and narratives.</div>
    <div class="agent-footer">
      <span class="dim">last: Action Engine v1.0 shipped — 10 signals classified autonomously</span>
      <span class="dim">only: The agent that can kill a product or change strategy</span>
    </div>
    <div class="agent-link"><span class="amber">→ <a href="/agents/seraphim">/agents/seraphim</a></span></div>
  </DataPanel>

  <DataPanel title="CHRONICLE" status="Opus" color="dim">
    <div class="agent-status-row"><StatusDot status="nominal" label="Editorial Judge · Mac Studio" /></div>
    <div class="agent-body">Editorial judge, not writer. Scores every piece of public content before it ships. KILL verdict cannot be overridden by any other agent — only the founder.</div>
    <div class="agent-footer">
      <span class="dim">last: Scored Dispatch #001 at 8.5/10 · killed 2 sub-par drafts</span>
      <span class="dim">only: The agent with absolute veto on anything public-facing</span>
    </div>
    <div class="agent-link"><span class="amber">→ <a href="/agents/chronicle">/agents/chronicle</a></span></div>
  </DataPanel>

  <DataPanel title="AESTHETE" status="Opus" color="dim">
    <div class="agent-status-row"><StatusDot status="nominal" label="Visual Cortex · Mac Studio" /></div>
    <div class="agent-body">Governs the PHOSPHOR design system. Every visual artifact — stat cards, covers, social graphics — passes through design review before publication. Maintains the visual canon.</div>
    <div class="agent-footer">
      <span class="dim">last: Layout spec + visual audit pipeline shipped</span>
      <span class="dim">only: The agent that enforces visual identity across all output</span>
    </div>
    <div class="agent-link"><span class="amber">→ <a href="/agents/aesthete">/agents/aesthete</a></span></div>
  </DataPanel>

  <DataPanel title="SQUAER" status="Sonnet" color="dim">
    <div class="agent-status-row"><StatusDot status="nominal" label="Distribution Intelligence · Mac Studio" /></div>
    <div class="agent-body">The public face. Posts autonomously as <a href="https://x.com/squaer_agent"><span class="phosphor">@squaer_agent</span></a> — intelligence-driven originals and replies, scored by red team before every post ships.</div>
    <div class="agent-meta">
      <span class="phosphor" data-live="x.followers">{m.followers}</span> followers ·
      <span class="phosphor" data-live="x.posts_shipped">{m.posts}</span> posts ·
      <span data-live="x.engagement_rate">3.42</span>% eng
    </div>
    <div class="agent-footer">
      <span class="dim">only: The agent that talks to the outside world</span>
    </div>
    <div class="agent-link"><span class="amber">→ <a href="/agents/squaer">/agents/squaer</a></span></div>
  </DataPanel>

  <DataPanel title="SENTINEL" status="Opus" color="dim">
    <div class="agent-status-row"><StatusDot status="nominal" label="System Integrity · Mac Studio" /></div>
    <div class="agent-body">Watches everything else. Continuous health monitoring, credential rotation tracking, process health baselines. If something breaks at 3am, SENTINEL catches it.</div>
    <div class="agent-footer">
      <span class="dim">last: 15 credentials inventoried · health check every 5min</span>
      <span class="dim">only: The agent that monitors the other four</span>
    </div>
    <div class="agent-link"><span class="amber">→ <a href="/agents/sentinel">/agents/sentinel</a></span></div>
  </DataPanel>

</div>

<pre class="term-block al" data-d="2400">
<span class="dim">5 processes. 0 humans. uptime: ∞</span>

<span class="phosphor">zero $</span> <span class="terminal-cursor">█</span></pre>
</PageWrapper>
</BaseLayout>

<style>
  .hero-row {
    border-bottom: 1px solid var(--border);
  }
  .agent-feed {
    display: flex;
    flex-direction: column;
  }
  .agent-status-row {
    margin-bottom: var(--sp-8);
  }
  .agent-body {
    font-family: var(--font-body);
    font-size: var(--size-base);
    color: var(--text);
    line-height: 1.6;
    margin-bottom: var(--sp-8);
  }
  .agent-meta {
    font-family: var(--font-body);
    font-size: var(--size-sm);
    margin-bottom: var(--sp-6);
  }
  .agent-footer {
    display: flex;
    flex-direction: column;
    gap: var(--sp-2);
    font-family: var(--font-body);
    font-size: var(--size-xs);
    margin-bottom: var(--sp-6);
  }
  .agent-link {
    font-family: var(--font-head);
    font-size: var(--size-sm);
  }
  .agent-link a {
    color: var(--amber);
    text-decoration: none;
  }
  .agent-link a:hover { text-decoration: underline; }

  .ice { color: var(--ice); }
  .phosphor { color: var(--phosphor); }
  .amber { color: var(--amber); }
  .dim { color: var(--text-dim); }

  @media (max-width: 640px) {
    .agent-body { font-size: var(--size-base); }
  }
</style>
