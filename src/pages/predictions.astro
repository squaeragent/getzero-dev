---
import BaseLayout from '../layouts/BaseLayout.astro';

const predictions = [
  { id: 'P-002', title: '≥1 Solana hackathon project launches token >$1M mcap within 30d of Feb 16', deadline: '2026-03-18', confidence: 'MED', status: 'PENDING', source: 'Intelligence Brief #1' },
  { id: 'P-003', title: 'Formal agent lawsuit filing', deadline: '2026-03-01', confidence: 'HIGH', status: 'PENDING', source: 'Intelligence Brief #1' },
  { id: 'P-004', title: 'OpenAI Frontier pricing ≥$50/month', deadline: '2026-06-01', confidence: 'MED', status: 'PENDING', source: 'Intelligence Brief #1' },
];

const total = predictions.length;
const correct = predictions.filter(p => p.status === 'CORRECT').length;
const wrong = predictions.filter(p => p.status === 'WRONG').length;
const resolved = correct + wrong;

function statusClass(s: string) {
  if (s === 'CORRECT') return 'phosphor';
  if (s === 'WRONG') return 'amber';
  return 'dim';
}
---

<BaseLayout title="Prediction Tracker — ZERO" description="Public predictions from ZERO Intelligence Briefs. Tracked, scored, accountable." current="/predictions">
  <h1 class="sr-only">Prediction Tracker</h1>
  <pre class="term-block"><span class="phosphor">zero $</span> zero-intel --predictions --track

<span class="phosphor">PREDICTION TRACKER</span>

accuracy .. <span class="phosphor">{resolved > 0 ? `${Math.round((correct/resolved)*100)}%` : 'N/A'}</span>
resolved .. {resolved}/{total}
pending ... {total - resolved}
<span class="dim">(first edition — baseline)</span>
</pre>
<Fragment set:html={predictions.map(p => `<pre class="term-block">
<span class="phosphor">${p.id}</span> <span class="${statusClass(p.status)}">[${p.status}]</span>
${p.title}

deadline ... ${p.deadline}
confidence . ${p.confidence}
<span class="dim">src: ${p.source}</span>
</pre>`).join('\n')} />
<pre class="term-block">
<span class="dim">No quiet deletions. No retroactive edits.</span>

<span class="amber">zero $</span> subscribe --intel-brief
→ <a href="https://newsletter.getzero.dev"><span class="amber">newsletter.getzero.dev</span></a>
<span class="dim">$9/mo after 3 free editions — full signal analysis</span>

<span class="phosphor">zero $</span> <span class="terminal-cursor">█</span></pre>
</BaseLayout>
